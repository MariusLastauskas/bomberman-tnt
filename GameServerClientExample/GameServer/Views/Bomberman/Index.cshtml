@{
    ViewData["Title"] = "Index";
}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script src="https://unpkg.com/react@16/umd/react.development.js" crossorigin></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js" crossorigin></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.13.3/JSXTransformer.js"></script>



<h2>Index</h2>

<p>Hello from our View Template!</p>

<div id="root"></div>



<script type="text/jsx">
    _tileType = {
        'wall': 'brown',
        'unbreakableWall': 'gray',
        'empty': 'green',
        'player': 'blue'
    }

    Tile = (props) => {
        return (
            <div style={{backgroundColor: _tileType[props.type],
                        width: 50, height: 50}}></div>
        )
    }

    TileMap = () => {
        const [tileMap, setTileMap] = React.useState(null);

        getMap().then(response => {
            setTileMap(response.data);
        });

        console.log(tileMap)
        return (
            <div>
                {tileMap? tileMap.map((row, index) => {
                    return (
                        <div style={{display: 'flex'}}>
                            {row.map((tile, index) => {
                                if (!tile[0]) {
                                    return <Tile type="empty" />;
                                }
                                if (tile[0].destroyable != undefined) {
                                    return tile[0].destroyable ? <Tile type="wall" /> : <Tile type="unbreakableWall" />
                                }
                                return <Tile type="player" />
                            })}
                        </div>);
                    //return <p key={ index }>{name}</p>;
                }): ''}
            </div>
        );
    }

    const getMap = () => {
        return axios.get('https://localhost:44371/api/map')
            //.then(response => {
             //   console.log(response.data);
             //   return response.data;
           // });
    }

    const map = getMap();


    ReactDOM.render(
        <TileMap />,
        document.getElementById('root')
    );
</script>